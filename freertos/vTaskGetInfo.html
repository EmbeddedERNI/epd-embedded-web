
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="RTOS task state, run time, and debug information" name="description"/>
    <meta content="RTOS, debug, run-time, stats, statistics" name="keywords"/>
    <title>RTOS - vTaskGetInfo()</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css">
</style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript">
</script>
    <script src="stlib.js" type="text/javascript">
</script>
    <script src="left_menu.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js">
</script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript">
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
</script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
    <script type="text/javascript">
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

</script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>vTaskGetInfo()<br/>
                      <small>[<a class="el" href="a00021.html">Task
                      Utilities</a>]</small></h1>
                    task.h
                    <pre><font face="courier">
void vTaskGetInfo( TaskHandle_t xTask,
                   TaskStatus_t *pxTaskStatus,
                   BaseType_t xGetFreeStackSpace,
                   eTaskState eState );
</font></pre>

                    <p>configUSE_TRACE_FACILITY must be defined as 1
                      in FreeRTOSConfig.h for vTaskGetInfo() to be
                      available.</p>

                    <p>Whereas <a href="uxTaskGetSystemState.html">uxTaskGetSystemState</a>() populates a <a href="#TaskStatus_t">TaskStatus_t</a> structure
                      for each task in the system, vTaskGetInfo()
                      populates a TaskStatus_t structures for just a
                      single task. The TaskStatus_t structure contains,
                      among other things, members for the task handle,
                      task name, task priority, task state, and total
                      amount of run time consumed by the task.</p>

                    <p>NOTE: This function is intended for debugging
                      use only as its use results in the scheduler
                      remaining suspended for an extended period.</p>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><font face="arial"><em>xTask</em></font> &nbsp;</td>

                              <td><font face="arial">The handle of
                                the task being queried. Setting xTask
                                to NULL will return information on the
                                calling task.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>pxTaskStatus</em></font> &nbsp;</td>

                              <td><font face="arial">The TaskStatus_t
                                structure pointed to by pxTaskStatus
                                will be filled with information about
                                the task referenced by the handle
                                passed in the xTask parameter.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xGetFreeStackSpace</em></font>
                                &nbsp;</td>

                              <td><font face="arial">The TaskStatus_t
                                structure contains a member to report
                                the stack high water mark of the task
                                being queried. The stack high water
                                mark is the minimum amount of stack
                                space that has ever existed, so the
                                closer the number is to zero the closer
                                the task has come to overflowing its
                                stack.Calculating the stack high water
                                mark takes a relatively long time, and
                                can make the system temporarily
                                unresponsive - so the
                                xGetFreeStackSpace parameter is
                                provided to allow the high water mark
                                checking to be skipped. The high
                                watermark value will only be written to
                                the TaskStatus_t structure if
                                xGetFreeStackSpace is not set to
                                pdFALSE.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>eState</em></font> &nbsp;</td>

                              <td><font face="arial">The TaskStatus_t
                                structure contains a member to report
                                the state of the task being queried.
                                Obtaining the task state is not as fast
                                as a simple assignment - so the eState
                                parameter is provided to allow the
                                state information to be omitted from
                                the TaskStatus_t structure. To obtain
                                state information then set eState to
                                eInvalid - otherwise the value passed
                                in eState will be reported as the task
                                state in the TaskStatus_t
                                structure.</font></td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>
                    <b>Example usage:</b>
                    <pre><font face="courier">
void vAFunction( void )
{
TaskHandle_t xHandle;
TaskStatus_t xTaskDetails;

    <font color="green">/* Obtain the handle of a task from its name. */</font>
    xHandle = <a href="a00021.html#xTaskGetHandle">xTaskGetHandle</a>( "Task_Name" );

    <font color="green">/* Check the handle is not NULL. */</font>
    configASSERT( xHandle );

    <font color="green">/* Use the handle to obtain further information about the task. */</font>
    vTaskGetInfo( <font color="green">/* The handle of the task being queried. */</font>
                  xHandle,
                  <font color="green">/* The TaskStatus_t structure to complete with information
                  on xTask. */</font>
                  &amp;xTaskDetails,
                  <font color="green">/* Include the stack high water mark value in the
                  TaskStatus_t structure. */</font>
                  pdTRUE,
                  <font color="green">/* Include the task state in the TaskStatus_t structure. */</font>
                  eInvalid );
}
</font></pre>

                    <p><br/>
                    </p>

                    <h3><a id="TaskStatus_t" name="TaskStatus_t">The
                      TaskStatus_t definition</a></h3>

                    <pre><font face="courier">
typedef struct xTASK_STATUS
{
   <font color="green">/* The handle of the task to which the rest of the information in the
   structure relates. */</font>
   TaskHandle_t xHandle;

   <font color="green">/* A pointer to the task's name.  This value will be invalid if the task was
   deleted since the structure was populated! */</font>
   const signed char *pcTaskName;

   <font color="green">/* A number unique to the task. */</font>
   UBaseType_t xTaskNumber;

   <font color="green">/* The state in which the task existed when the structure was populated. */</font>
   <a href="a00021.html#eTaskGetState">eTaskState</a> eCurrentState;

   <font color="green">/* The priority at which the task was running (may be inherited) when the
   structure was populated. */</font>
   UBaseType_t uxCurrentPriority;

   <font color="green">/* The priority to which the task will return if the task's current priority
   has been inherited to avoid unbounded priority inversion when obtaining a
   mutex.  Only valid if configUSE_MUTEXES is defined as 1 in
   FreeRTOSConfig.h. */</font>
   UBaseType_t uxBasePriority;

   <font color="green">/* The total run time allocated to the task so far, as defined by the <a href="rtos-run-time-stats.html">run
   time stats clock</a>.  Only valid when configGENERATE_RUN_TIME_STATS is
   defined as 1 in FreeRTOSConfig.h. */</font>
   unsigned long ulRunTimeCounter;

   <font color="green">/* Points to the lowest address of the task's stack area. */</font>
   StackType_t *pxStackBase;

   <font color="green">/* The minimum amount of stack space that has remained for the task since
   the task was created.  The closer this value is to zero the closer the task
   has come to overflowing its stack. */</font>
   unsigned short usStackHighWaterMark;
} TaskStatus_t;
</font></pre>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>

                    <p><br/>
                    </p>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="index.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript">
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
</script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>
                    <br/>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>

    <script language="JavaScript" type="text/javascript">
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
</script></body>
</html>
