
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="Wait for the real time operating system (RTOS) task notification value to change" name="description"/>
    <meta content="RTOS, task, thread, notification" name="keywords"/>
    <title>xTaskNotifyWait() RTOS task notification API documentation</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css">
</style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript">
</script>
    <script src="stlib.js" type="text/javascript">
</script>
    <script src="left_menu.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js">
</script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript">
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
</script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
    <script type="text/javascript">
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

</script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xTaskNotifyWait()<br/>
                      <small>[<a class="el" href="RTOS-task-notification-API.html">RTOS
                      Task Notification API</a>]</small></h1>

                    <p><br/>
                      task.h</p>

                    <pre><font face="courier">
 BaseType_t xTaskNotifyWait( uint32_t ulBitsToClearOnEntry,
                             uint32_t ulBitsToClearOnExit,
                             uint32_t *pulNotificationValue,
                             TickType_t xTicksToWait );
</font></pre>

                    <p><small>[If you are using RTOS task
                      notifications to implement binary or counting
                      semaphore type behaviour then use the simpler <a href="ulTaskNotifyTake.html">ulTaskNotifyTake()</a> API function instead of
                      xTaskNotifyWait()]</small></p>

                    <p>Each RTOS task has a 32-bit notification value
                      which is initialised to zero when the RTOS task
                      is created. An <a href="RTOS-task-notifications.html">RTOS task
                      notification</a> is an event sent directly to a
                      task that can unblock the receiving task, and
                      optionally update the receiving task's
                      notification value in a number of different ways.
                      For example, a notification may overwrite the
                      receiving task's notification value, or just set
                      one or more bits in the receiving task's
                      notification value. See the <a href="RTOS-task-notifications.html#uses">RTOS
                      task notifications use case documentation</a>
                      for examples.</p>

                    <p>xTaskNotifyWait() waits, with an optional
                      timeout, for the calling task to receive a
                      notification.</p>

                    <p>If the receiving RTOS task was already Blocked
                      waiting for a notification when one arrives the
                      receiving RTOS task will be removed from the
                      Blocked state and the notification cleared.</p>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><font face="arial"><em>ulBitsToClearOnEntry</em></font>
                                &nbsp;</td>

                              <td><font face="arial">Any bits set in
                                ulBitsToClearOnEntry will be cleared in
                                the calling RTOS task's notification
                                value on entry to the xTaskNotifyWait()
                                function (before the task waits for a
                                new notification) provided a
                                notification is not already pending
                                when xTaskNotifyWait() is called.</font>
                                <p><font face="arial">For example, if
                                  ulBitsToClearOnEntry is 0x01, then
                                  bit 0 of the task's notification
                                  value will be cleared on entry to the
                                  function.</font></p>

                                <p><font face="arial">Setting
                                  ulBitsToClearOnEntry to 0xffffffff
                                  (ULONG_MAX) will clear all the bits
                                  in the task's notification value,
                                  effectively clearing the value to
                                  0.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>ulBitsToClearOnExit</em></font>
                                &nbsp;</td>

                              <td><font face="arial">Any bits set in
                                ulBitsToClearOnExit will be cleared in
                                the calling RTOS task's notification
                                value before xTaskNotifyWait() function
                                exits if a notification was
                                received.</font>
                                <p><font face="arial">The bits are
                                  cleared after the RTOS task's
                                  notification value has been saved in
                                  *pulNotificationValue (see the
                                  description of pulNotificationValue
                                  below).</font></p>

                                <p><font face="arial">For example, if
                                  ulBitsToClearOnExit is 0x03, then bit
                                  0 and bit 1 of the task's
                                  notification value will be cleared
                                  before the function exits.</font></p>

                                <p><font face="arial">Setting
                                  ulBitsToClearOnExit to 0xffffffff
                                  (ULONG_MAX) will clear all the bits
                                  in the task's notification value,
                                  effectively clearing the value to
                                  0.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>pulNotificationValue</em></font>
                                &nbsp;</td>

                              <td><font face="arial">Used to pass out
                                the RTOS task's notification value. The
                                value copied to *pulNotificationValue
                                is the RTOS task's notification value
                                as it was before any bits were cleared
                                due to the ulBitsToClearOnExit
                                setting.</font>
                                <p><font face="arial">If the
                                  notification value is not required
                                  then set pulNotificationValue to
                                  NULL.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xTicksToWait</em></font> &nbsp;</td>

                              <td><font face="arial">The maximum time
                                to wait in the Blocked state for a
                                notification to be received if a
                                notification is not already pending
                                when xTaskNotifyWait() is called.</font>
                                <p><font face="arial">The RTOS task
                                  does not consume any CPU time when it
                                  is in the Blocked state.</font></p>

                                <p><font face="arial">The time is
                                  specified in RTOS tick periods. The
                                  pdMS_TO_TICKS() macro can be used to
                                  convert a time specified in
                                  milliseconds into a time specified in
                                  ticks.</font></p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>pdTRUE if a notification was received, or a
                        notification was already pending when
                        xTaskNotifyWait() was called.
                        <p>pdFALSE if the call to xTaskNotifyWait()
                          timed out before a notification was received.</p>
                      </dd>
                    </dl>

                    <p><br/>
                      <b>Example usage:</b></p>

                    <p><small>[More examples are referenced from the
                      main <a href="RTOS-task-notifications.html">RTOS task notifications page</a>]</small></p>

                    <pre><font face="courier">
<font color="green">/* This task shows bits within the RTOS task notification value being used to pass
different events to the task in the same way that flags in an <a href="FreeRTOS-Event-Groups.html">event group</a> might
be used for the same purpose. */</font>
void vAnEventProcessingTask( void *pvParameters )
{
uint32_t ulNotifiedValue;

    for( ;; )
    {
        <font color="green">/* Block indefinitely (without a timeout, so no need to check the function's
        return value) to wait for a notification.

        Bits in this RTOS task's notification value are set by the notifying
        tasks and interrupts to indicate which events have occurred. */</font>
        xTaskNotifyWait( 0x00,      <font color="green">/* Don't clear any notification bits on entry. */</font>
                         ULONG_MAX, <font color="green">/* Reset the notification value to 0 on exit. */</font>
                         &amp;ulNotifiedValue, <font color="green">/* Notified value pass out in
                                              ulNotifiedValue. */</font>
                         portMAX_DELAY );  <font color="green">/* Block indefinitely. */</font>

        <font color="green">/* Process any events that have been latched in the notified value. */</font>

        if( ( ulNotifiedValue &amp; 0x01 ) != 0 )
        {
            <font color="green">/* Bit 0 was set - process whichever event is represented by bit 0. */</font>
            prvProcessBit0Event();
        }

        if( ( ulNotifiedValue &amp; 0x02 ) != 0 )
        {
            <font color="green">/* Bit 1 was set - process whichever event is represented by bit 1. */</font>
            prvProcessBit1Event();
        }

        if( ( ulNotifiedValue &amp; 0x04 ) != 0 )
        {
            <font color="green">/* Bit 2 was set - process whichever event is represented by bit 2. */</font>
            prvProcessBit2Event();
        }

        <font color="green">/* Etc. */</font>
    }
}
</font></pre>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>

                    <p><br/>
                    </p>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="index.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript">
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
</script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>
                    <br/>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>

    <script language="JavaScript" type="text/javascript">
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
</script></body>
</html>
