
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="Wait for a flag or set of flags to be set in an RTOS event group" name="description"/>
    <meta content="event flags, event groups, event bits, RTOS, source code" name="keywords"/>
    <title>xEventGroupWaitBits() - Wait for a bit (flag) or bits in an
      FreeRTOS event group</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css"><![CDATA[
]]></style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="stlib.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="left_menu.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"><![CDATA[
]]></script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript"><![CDATA[
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
]]></script>
    <script type="text/javascript"><![CDATA[
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

]]></script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xEventGroupWaitBits()<br/>
                      <small>[<a class="el" href="event-groups-API.html">Event Group API</a>]</small></h1>

                    <p><br/>
                    </p>

                    <p><br/>
                      event_groups.h</p>

                    <pre><font face="courier">
 EventBits_t xEventGroupWaitBits(
                       const EventGroupHandle_t xEventGroup,
                       const EventBits_t uxBitsToWaitFor,
                       const BaseType_t xClearOnExit,
                       const BaseType_t xWaitForAllBits,
                       TickType_t xTicksToWait );
</font></pre>

                    <p>Read bits within an RTOS <a href="FreeRTOS-Event-Groups.html">event
                      group</a>, optionally entering the Blocked state
                      (with a timeout) to wait for a bit or group of
                      bits to become set.</p>

                    <p>This function cannot be called from an
                      interrupt.</p>

                    <p>The RTOS source file <tt>FreeRTOS/source/event_groups.c</tt> must be
                      included in the build for the
                      xEventGroupWaitBits() function to be available.</p>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><font face="arial"><em>xEventGroup</em></font> &nbsp;</td>

                              <td><font face="arial">The event group
                                in which the bits are being tested. The
                                event group must have previously been
                                created using a call to <a href="xEventGroupCreate.html">xEventGroupCreate()</a>.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>uxBitsToWaitFor</em></font> &nbsp;</td>

                              <td><font face="arial">A bitwise value
                                that indicates the bit or bits to test
                                inside the event group. For example, to
                                wait for bit 0 and/or bit 2 set
                                uxBitsToWaitFor to 0x05. To wait for
                                bits 0 and/or bit 1 and/or bit 2 set
                                uxBitsToWaitFor to 0x07. Etc.</font>
                                <p><font face="arial">uxBitsToWaitFor
                                  must <b>not</b> be set to 0.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xClearOnExit</em></font> &nbsp;</td>

                              <td><font face="arial">If xClearOnExit
                                is set to pdTRUE then any bits set in
                                the value passed as the uxBitsToWaitFor
                                parameter will be cleared in the event
                                group before xEventGroupWaitBits()
                                returns if xEventGroupWaitBits()
                                returns for any reason other than a
                                timeout. The timeout value is set by
                                the xTicksToWait parameter.</font>
                                <p><font face="arial">If xClearOnExit
                                  is set to pdFALSE then the bits set
                                  in the event group are not altered
                                  when the call to
                                  xEventGroupWaitBits() returns.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xWaitForAllBits</em></font> &nbsp;</td>

                              <td><font face="arial">xWaitForAllBits
                                is used to create either a logical AND
                                test (where all bits must be set) or a
                                logical OR test (where one or more bits
                                must be set) as follows:</font>
                                <p><font face="arial">If
                                  xWaitForAllBits is set to pdTRUE then
                                  xEventGroupWaitBits() will return
                                  when either <b>all</b> the bits set
                                  in the value passed as the
                                  uxBitsToWaitFor parameter are set in
                                  the event group or the specified
                                  block time expires.</font></p>

                                <p><font face="arial">If
                                  xWaitForAllBits is set to pdFALSE
                                  then xEventGroupWaitBits() will
                                  return when <b>any</b> of the bits
                                  set in the value passed as the
                                  uxBitsToWaitFor parameter are set in
                                  the event group or the specified
                                  block time expires.</font></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xTicksToWait</em></font> &nbsp;</td>

                              <td><font face="arial">The maximum
                                amount of time (specified in 'ticks')
                                to wait for one/all (depending on the
                                xWaitForAllBits value) of the bits
                                specified by uxBitsToWaitFor to become
                                set.</font></td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>The value of the event group at the time
                        either the event bits being waited for became
                        set, or the block time expired. The current
                        value of the event bits in an event group will
                        be different to the returned value if a higher
                        priority task or interrupt changed the value of
                        an event bit between the calling task leaving
                        the Blocked state and exiting the
                        xEventGroupWaitBits() function.
                        <p>Test the return value to know which bits
                          were set. If xEventGroupWaitBits() returned
                          because its timeout expired then not all the
                          bits being waited for will be set. If
                          xEventGroupWaitBits() returned because the
                          bits it was waiting for were set then the
                          returned value is the event group value
                          before any bits were automatically cleared
                          because the xClearOnExit parameter was set to
                          pdTRUE.</p>
                      </dd>
                    </dl>
                    <b>Example usage:</b>
                    <pre><font face="courier">
#define BIT_0   ( 1 &lt;&lt; 0 )
#define BIT_4   ( 1 &lt;&lt; 4 )

void aFunction( EventGroupHandle_t xEventGroup )
{
EventBits_t uxBits;
const TickType_t xTicksToWait = 100 / portTICK_PERIOD_MS;

  <font color="green">/* Wait a maximum of 100ms for either bit 0 or bit 4 to be set within
  the event group.  Clear the bits before exiting. */</font>
  uxBits = xEventGroupWaitBits(
            xEventGroup,   <font color="green">/* The event group being tested. */</font>
            BIT_0 | BIT_4, <font color="green">/* The bits within the event group to wait for. */</font>
            pdTRUE,        <font color="green">/* BIT_0 &amp; BIT_4 should be cleared before returning. */</font>
            pdFALSE,       <font color="green">/* Don't wait for both bits, either bit will do. */</font>
            xTicksToWait );<font color="green">/* Wait a maximum of 100ms for either bit to be set. */</font>

  if( ( uxBits &amp; ( BIT_0 | BIT_4 ) ) == ( BIT_0 | BIT_4 ) )
  {
      <font color="green">/* xEventGroupWaitBits() returned because both bits were set. */</font>
  }
  else if( ( uxBits &amp; BIT_0 ) != 0 )
  {
      <font color="green">/* xEventGroupWaitBits() returned because just BIT_0 was set. */</font>
  }
  else if( ( uxBits &amp; BIT_4 ) != 0 )
  {
      <font color="green">/* xEventGroupWaitBits() returned because just BIT_4 was set. */</font>
  }
  else
  {
      <font color="green">/* xEventGroupWaitBits() returned because xTicksToWait ticks passed
      without either BIT_0 or BIT_4 becoming set. */</font>
  }
}
</font></pre>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>

                    <p><br/>
                    </p>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="static_menu.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript"><![CDATA[
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
]]></script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>
                    <br/>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>

    <script language="JavaScript" type="text/javascript"><![CDATA[
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
]]></script></body>
</html>
