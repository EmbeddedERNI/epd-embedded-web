
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="FreeRTOS is a truely free and small footprint RTOS for microcontrollers. This page describes the xSemaphoreGiveFromISR() FreeRTOS API function which is part of the interrupt (ISR) safe FreeRTOS semaphore API source code function set." name="description"/>
    <meta content="xSemaphoreGive, semaphore, mutex, mailbox, RTOS mailbox, FreeRTOS API, RTOS API, FreeRTOS queue, RTOS queue, queue API, xQueueCreate, ARM7, ARM9, Cortex-M3, RX600, RX62N, 8051, 8052, Free RTOS, royalty free, RTOS, free, RTOS free, open source, real time, embedded, FreeRTOS, source code, AVR, GNU, PIC, PIC18, development tools" name="keywords"/>
    <title>This page describes the xSemaphoreGiveFromISR() FreeRTOS
      API function which is part of the RTOS interrupt safe semaphore
      API source code function set. FreeRTOS is a professional grade
      open source RTOS for microcontrollers.</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css"><![CDATA[
]]></style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="stlib.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="left_menu.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"><![CDATA[
]]></script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript"><![CDATA[
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
]]></script>
    <script type="text/javascript"><![CDATA[
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

]]></script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xSemaphoreGiveFromISR<br/>
                      <small>[<a class="el" href="a00113.html">Semaphores</a>]</small></h1>
                    semphr. h
                    <div><font face="courier">xSemaphoreGiveFromISR (
                      SemaphoreHandle_t xSemaphore, signed BaseType_t
                      *pxHigherPriorityTaskWoken )</font></div>

                    <pre><br/>


<em>Macro</em> to release a semaphore. The semaphore must have previously been
created with a call to xSemaphoreCreateBinary() or xSemaphoreCreateCounting().<br/>
Mutex type semaphores (those created using a call to xSemaphoreCreateMutex())
must not be used with this macro.
<br/>
This macro can be used from an ISR.<br/>
</pre>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><em>xSemaphore</em>&nbsp;</td>

                              <td><font face="arial">A handle to the
                                semaphore being released. This is the
                                handle returned when the semaphore was
                                created.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><em>pxHigherPriorityTaskWoken</em>&nbsp;</td>

                              <td><font face="arial">xSemaphoreGiveFromISR() will set
                                *pxHigherPriorityTaskWoken to pdTRUE if
                                giving the semaphore caused a task to
                                unblock, and the unblocked task has a
                                priority higher than the currently
                                running task. If
                                xSemaphoreGiveFromISR() sets this value
                                to pdTRUE then a context switch should
                                be requested before the interrupt is
                                exited.</font>
                                <p>From FreeRTOS V7.3.0
                                  pxHigherPriorityTaskWoken is an
                                  optional parameter and can be set to
                                  NULL.</p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <pre>
</pre>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>pdTRUE if the semaphore was successfully
                        given, otherwise errQUEUE_FULL.</dd>
                    </dl>

                    <pre>
<b>Example usage:</b>
<br/>
Note the functionality shown below can often be achieved in a more efficient way by
using a <a href="RTOS-task-notifications.html">direct to task notification</a>
in place of a semaphore.

</pre>

                    <div><font face="courier">#define LONG_TIME
                      0xffff #define TICKS_TO_WAIT 10 SemaphoreHandle_t
                      xSemaphore = NULL; <font color="green">/*
                      Repetitive task. */</font> void vATask( void *
                      pvParameters ) { <font color="green">/* We are
                      using the semaphore for synchronisation so we
                      create a binary semaphore rather than a mutex. We
                      must make sure that the interrupt does not
                      attempt to use the semaphore before it is
                      created! */</font> xSemaphore =
                      xSemaphoreCreateBinary(); for( ;; ) { <font color="green">/* We want this task to run every
                      10 ticks of a timer. The semaphore was created
                      before this task was started. Block waiting for
                      the semaphore to become available. */</font> if(
                      xSemaphoreTake( xSemaphore, LONG_TIME ) == pdTRUE
                      ) { <font color="green">/* It is time to
                      execute. */</font> ... <font color="green">/*
                      We have finished our task. Return to the top of
                      the loop where we will block on the semaphore
                      until it is time to execute again. Note when
                      using the semaphore for synchronisation with an
                      ISR in this manner there is no need to 'give' the
                      semaphore back. */</font> } } } <font color="green">/* Timer ISR */</font> void
                      vTimerISR( void * pvParameters ) { static
                      unsigned char ucLocalTickCount = 0; static signed
                      BaseType_t xHigherPriorityTaskWoken; <font color="green">/* A timer tick has occurred.
                      */</font> ... Do other time functions. <font color="green">/* Is it time for vATask() to run?
                      */</font> xHigherPriorityTaskWoken = pdFALSE;
                      ucLocalTickCount++; if( ucLocalTickCount &gt;=
                      TICKS_TO_WAIT ) { <font color="green">/* Unblock
                      the task by releasing the semaphore. */</font>
                      xSemaphoreGiveFromISR( xSemaphore,
                      &amp;xHigherPriorityTaskWoken ); <font color="green">/* Reset the count so we release
                      the semaphore again in 10 ticks time. */</font>
                      ucLocalTickCount = 0; } <font color="green">/*
                      If xHigherPriorityTaskWoken was set to true you
                      we should yield. The actual macro used here is
                      port specific. */</font> portYIELD_FROM_ISR(
                      xHigherPriorityTaskWoken ); }</font></div>

                    <pre> <br/><br/><br/><br/><br/>

                                                <br/>
                                                <br/>                                                </pre>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="static_menu.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript"><![CDATA[
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
]]></script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>

                    <pre>
                                                <br/>                                                <br/>
                                                <br/>                                                <br/>
                                                <br/>                                                <br/>
                                                <br/>                                                </pre>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>

                    <pre>
                                        </pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>
    <font face="arial">
    <script language="JavaScript" type="text/javascript"><![CDATA[
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
]]></script></font></body>
</html>
