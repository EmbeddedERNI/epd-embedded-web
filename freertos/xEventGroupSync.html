
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="RTOS task rendezvous using the task synchronisation API function" name="description"/>
    <meta content="rendezvous, task rendezvous, task sync, synchronisation, event bits, event groups, event flags, RTOS, source code, free" name="keywords"/>
    <title>xEventGroupSync() - Synchronise RTOS tasks with a
      rendezvous</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css">
</style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript">
</script>
    <script src="stlib.js" type="text/javascript">
</script>
    <script src="left_menu.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript">
</script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js">
</script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript">
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
</script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
    <script type="text/javascript">
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
</script>
    <script type="text/javascript">
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

</script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xEventGroupSync()<br/>
                      <small>[<a class="el" href="event-groups-API.html">Event Group API</a>]</small></h1>

                    <p><br/>
                    </p>

                    <p><br/>
                      event_groups.h</p>

                    <pre><font face="courier">
 EventBits_t xEventGroupSync( EventGroupHandle_t xEventGroup,
                              const EventBits_t uxBitsToSet,
                              const EventBits_t uxBitsToWaitFor,
                              TickType_t xTicksToWait );

</font></pre>

                    <p>Atomically set bits (flags) within an RTOS <a href="FreeRTOS-Event-Groups.html">event
                      group</a>, then wait for a combination of bits
                      to be set within the same event group. This
                      functionality is typically used to synchronise
                      multiple tasks (often called a task rendezvous),
                      where each task has to wait for the other tasks
                      to reach a synchronisation point before
                      proceeding.</p>

                    <p>This function cannot be used from an interrupt.</p>

                    <p>The function will return before its block time
                      expires if the bits specified by the uxBitsToWait
                      parameter are set, or become set within that
                      time. In this case all the bits specified by
                      uxBitsToWait will be automatically cleared before
                      the function returns.</p>

                    <p>The RTOS source file <tt>FreeRTOS/source/event_groups.c</tt> must be
                      included in the build for the xEventGroupSync()
                      function to be available.</p>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><font face="arial"><em>xEventGroup</em></font> &nbsp;</td>

                              <td><font face="arial">The event group
                                in which the bits are being set and
                                tested. The event group must have
                                previously been created using a call to
                                <a href="xEventGroupCreate.html">xEventGroupCreate()</a>.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>uxBitsToSet</em></font> &nbsp;</td>

                              <td><font face="arial">The bit or bits
                                to set in the event group before
                                determining if (and possibly waiting
                                for), all the bits specified by the
                                uxBitsToWait parameter are set. For
                                example, set uxBitsToSet to 0x04 to set
                                bit 2 within the event group.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>uxBitsToWaitFor</em></font> &nbsp;</td>

                              <td><font face="arial">A bitwise value
                                that indicates the bit or bits to test
                                inside the event group. For example,
                                set uxBitsToWaitFor to 0x05 to wait for
                                bits 0 and bit 2. Set uxBitsToWaitFor
                                to 0x07 to wait for bit 0 and bit 1 and
                                bit 2. Etc.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xTicksToWait</em></font> &nbsp;</td>

                              <td><font face="arial">The maximum
                                amount of time (specified in 'ticks')
                                to wait for all the bits specified by
                                the uxBitsToWaitFor parameter value to
                                become set.</font></td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>The value of the event group at the time
                        either the bits being waited for became set, or
                        the block time expired. Test the return value
                        to know which bits were set.
                        <p>If xEventGroupSync() returned because its
                          timeout expired then not all the bits being
                          waited for will be set.</p>

                        <p>If xEventGroupSync() returned because all
                          the bits it was waiting for were set then the
                          returned value is the event group value <b>before</b> any bits were automatically
                          cleared.</p>
                      </dd>
                    </dl>
                    <b>Example usage:</b>
                    <pre><font face="courier">
<font color="green">/* Bits used by the three tasks. */</font>
#define TASK_0_BIT        ( 1 &lt;&lt; 0 )
#define TASK_1_BIT        ( 1 &lt;&lt; 1 )
#define TASK_2_BIT        ( 1 &lt;&lt; 2 )

#define ALL_SYNC_BITS ( TASK_0_BIT | TASK_1_BIT | TASK_2_BIT )

<font color="green">/* Use an event group to synchronise three tasks.  It is assumed this event
group has already been created elsewhere. */</font>
EventGroupHandle_t xEventBits;

void vTask0( void *pvParameters )
{
EventBits_t uxReturn;
TickType_t xTicksToWait = 100 / portTICK_PERIOD_MS;

    for( ;; )
    {
        <font color="green">/* Perform task functionality here. */</font>
        <b>. . .</b>

        <font color="green">/* Set bit 0 in the event group to note this task has reached the
        sync point.  The other two tasks will set the other two bits defined
        by ALL_SYNC_BITS.  All three tasks have reached the synchronisation
        point when all the ALL_SYNC_BITS are set.  Wait a maximum of 100ms
        for this to happen. */</font>
        uxReturn = xEventGroupSync( xEventBits,
                                    TASK_0_BIT,
                                    ALL_SYNC_BITS,
                                    xTicksToWait );

        if( ( uxReturn &amp; ALL_SYNC_BITS ) == ALL_SYNC_BITS )
        {
            <font color="green">/* All three tasks reached the synchronisation point before the call
            to xEventGroupSync() timed out. */</font>
        }
    }
}

void vTask1( void *pvParameters )
{
    for( ;; )
    {
        <font color="green">/* Perform task functionality here. */</font>
        <b>. . .</b>

        <font color="green">/* Set bit 1 in the event group to note this task has reached the
        synchronisation point.  The other two tasks will set the other two
        bits defined by ALL_SYNC_BITS.  All three tasks have reached the
        synchronisation point when all the ALL_SYNC_BITS are set.  Wait
        indefinitely for this to happen. */</font>
        xEventGroupSync( xEventBits, TASK_1_BIT, ALL_SYNC_BITS, portMAX_DELAY );

        <font color="green">/* xEventGroupSync() was called with an indefinite block time, so
        this task will only reach here if the syncrhonisation was made by all
        three tasks, so there is no need to test the return value. */</font>
    }
}

void vTask2( void *pvParameters )
{
    for( ;; )
    {
        <font color="green">/* Perform task functionality here. */</font>
        <b>. . .</b>

        <font color="green">/* Set bit 2 in the event group to note this task has reached the
        synchronisation point.  The other two tasks will set the other two
        bits defined by ALL_SYNC_BITS.  All three tasks have reached the
        synchronisation point when all the ALL_SYNC_BITS are set.  Wait
        indefinitely for this to happen. */</font>
        xEventGroupSync( xEventBits, TASK_2_BIT, ALL_SYNC_BITS, portMAX_DELAY );

        <font color="green">/* xEventGroupSync() was called with an indefinite block time, so
        this task will only reach here if the syncrhonisation was made by all
        three tasks, so there is no need to test the return value. */</font>
    }
}
</font></pre>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>

                    <p><br/>
                    </p>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="static_menu.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript">
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
</script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>
                    <br/>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>

    <script language="JavaScript" type="text/javascript">
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
</script></body>
</html>
