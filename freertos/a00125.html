
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="FreeRTOS is an open source, small footprint RTOS for microcontrollers. This page describes the xTaskCreate() FreeRTOS API function which is part of the RTOS task control API." name="description"/>
    <meta content="xTaskCreate, task, thread, RTOS task, RTOS thread, mailbox, RTOS mailbox, FreeRTOS API, RTOS API, FreeRTOS queue, RTOS queue, queue API, xQueueCreate, ARM7, ARM9, Cortex-M3, RX600, RX62N, 8051, 8052, Free RTOS, royalty free, RTOS, free, RTOS free, open source, real time, embedded, FreeRTOS, source code, AVR, GNU, PIC, PIC18, development tools" name="keywords"/>
    <title>This page describes the RTOS xTaskCreate() FreeRTOS API
      function which is part of the RTOS task control API. FreeRTOS is
      a professional grade, small footprint, open source RTOS for
      microcontrollers.</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css"><![CDATA[
]]></style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="/banners.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="/stlib.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="/left_menu.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"><![CDATA[
]]></script>
    <link href="//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript"><![CDATA[
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
]]></script>
    <script type="text/javascript"><![CDATA[
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

]]></script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="/index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="/menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xTaskCreate<br/>
                      <small>[<a class="el" href="a00019.html">Task
                      Creation</a>]</small></h1>
                    task. h
                    <div><font face="courier">BaseType_t xTaskCreate(
                      TaskFunction_t pvTaskCode, const char * const
                      pcName, unsigned short usStackDepth, void
                      *pvParameters, UBaseType_t uxPriority,
                      TaskHandle_t *pxCreatedTask );</font></div>

                    <pre><br/>

<br/>


Create a new <a href="/a00015.html">task</a> and add it to the list of tasks that are ready to run.
<a href="/a00110.html#configSUPPORT_DYNAMIC_ALLOCATION">configSUPPORT_DYNAMIC_ALLOCATION</a>
must be set to 1 in FreeRTOSConfig.h, or left undefined (in which case it will
default to 1), for this RTOS API function to be available.
<br/>
Each task requires RAM that is used to hold the task state, and used by the task
as its stack.  If a task is created using xTaskCreate() then the required RAM is automatically
allocated from the <a href="/a00111.html">FreeRTOS heap</a>.  If a task is created
using <a href="/xTaskCreateStatic.html">xTaskCreateStatic()</a> then the RAM is
provided by the application writer, so can be statically allocated at compile time.  See the
<a href="/Static_Vs_Dynamic_Memory_Allocation.html">Static Vs Dynamic allocation</a>
page for more information.
<br/>
If you are using <a href="/FreeRTOS-MPU-memory-protection-unit.html">FreeRTOS-MPU</a> then
it is recommended to use <a href="/xTaskCreateRestricted.html">xTaskCreateRestricted()</a>
in place of xTaskCreate().

</pre>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><em>pvTaskCode</em>
                                &nbsp;</td>

                              <td>Pointer to the task entry function
                                (just the name of the function that
                                implements the task, see the example
                                below).
                                <p>Tasks are normally <a href="/implementing-a-FreeRTOS-task.html">implemented as an infinite loop</a>, and must never attempt to return
                                  or exit from their implementing
                                  function. Tasks can however <a href="/a00126.html">delete
                                  themselves</a>.</p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><em>pcName</em>
                                &nbsp;</td>

                              <td>A descriptive name for the task.
                                This is mainly used to facilitate
                                debugging, but can also be used to <a href="/a00021.html#xTaskGetHandle">obtain a task handle</a>.
                                <p>The maximum length of a task's name
                                  is set using the
                                  configMAX_TASK_NAME_LEN parameter in
                                  <a href="/a00110.html">FreeRTOSConfig.h</a>.</p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><em>usStackDepth</em>
                                &nbsp;</td>

                              <td>The number of words (not bytes!) <a href="/a00111.html">to allocate</a>
                                for use as the task's stack. For
                                example, if the stack is 16-bits wide
                                and usStackDepth is 100, then 200 bytes
                                will be allocated for use as the task's
                                stack. As another example, if the stack
                                is 32-bits wide and usStackDepth is 400
                                then 1600 bytes will be allocated for
                                use as the task's stack.
                                <p>The stack depth multiplied by the
                                  stack width must not exceed the
                                  maximum value that can be contained
                                  in a variable of type size_t.</p>

                                <p>See the FAQ <a href="/FAQMem.html#StackSize">How
                                  big should the stack be?</a></p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><em>pvParameters</em>
                                &nbsp;</td>

                              <td>A value that will passed into the
                                created task as the task's parameter.
                                <p>If pvParameters is set to the
                                  address of a variable then the
                                  variable must still exist when the
                                  created task executes - so it is not
                                  valid to pass the address of a stack
                                  variable.</p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><em>uxPriority</em>
                                &nbsp;</td>

                              <td>The <a href="/RTOS-task-priority.html">priority</a> at which the created
                                task will execute.
                                <p>Systems that include MPU support
                                  can optionally create a task in a
                                  privileged (system) mode by setting
                                  bit portPRIVILEGE_BIT in uxPrriority.
                                  For example, to create a privileged
                                  task at priority 2 set uxPriority to
                                  ( 2 | portPRIVILEGE_BIT ).</p>
                              </td>
                            </tr>

                            <tr>
                              <td valign="top"><em>pxCreatedTask</em> &nbsp;</td>

                              <td>Used to pass a handle to the created
                                task out of the xTaskCreate() function.
                                pxCreatedTask is optional and can be
                                set to NULL.</td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <pre>
</pre>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>If the task was created successfully then
                        pdPASS is returned. Otherwise
                        errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY is
                        returned.</dd>
                    </dl>

                    <pre>
<b>
        Example usage:
</b>
</pre>

                    <pre>
<font color="green">/* Task to be created. */</font>
void vTaskCode( void * pvParameters )
{
    <font color="green">/* The parameter value is expected to be 1 as 1 is passed in the
    pvParameters value in the call to xTaskCreate() below. </font>
    <a href="/a00110.html#configASSERT">configASSERT</a>( ( ( uint32_t ) pvParameters ) == 1 );

    for( ;; )
    {
        <font color="green">/* Task code goes here. */</font>
    }
}

<font color="green">/* Function that creates a task. */</font>
void vOtherFunction( void )
{
BaseType_t xReturned;
TaskHandle_t xHandle = NULL;

    <font color="green">/* Create the task, storing the handle. */</font>
    xReturned = xTaskCreate(
                    vTaskCode,       <font color="green">/* Function that implements the task. */</font>
                    "NAME",          <font color="green">/* Text name for the task. */</font>
                    STACK_SIZE,      <font color="green">/* Stack size in words, not bytes. */</font>
                    ( void * ) 1,    <font color="green">/* Parameter passed into the task. */</font>
                    tskIDLE_PRIORITY,<font color="green">/* Priority at which the task is created. */</font>
                    &amp;xHandle );      <font color="green">/* Used to pass out the created task's handle. */</font>

    if( xReturned == pdPASS )
    {
        <font color="green">/* The task was created.  Use the task's handle to delete the task. */</font>
        <a href="/a00126.html">vTaskDelete</a>( xHandle );
    }
}
</pre>

                    <pre>
<br/><br/><br/><br/><br/>

                                                <br/>
                                                <br/>                                                </pre>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="/RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="/static_menu.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript"><![CDATA[
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
]]></script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>

                    <pre>
                                                <br/>                                                <br/>
                                                <br/>                                                <br/>
                                                <br/>                                                <br/>
                                                <br/>                                                </pre>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="/copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>

                    <pre>
                                        </pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>
    <font face="Arial">
    <script language="JavaScript" type="text/javascript"><![CDATA[
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
]]></script></font></body>
</html>
