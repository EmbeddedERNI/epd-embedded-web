
<html>
  <head>
    <meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <meta content="FreeRTOS is liberally licensed open source software for microcontrollers. This page describes the xTimerReset() RTOS API function which is part of the FreeRTOS software timer API." name="description"/>
    <meta content="xTimerReset, timers, software timers, FreeRTOS API, RTOS API, FreeRTOS timer, RTOS timer, timer API, ARM7, ARM9, Cortex-M3, RX600, RX62N, 8051, 8052, Free RTOS, royalty free, RTOS, free, RTOS free, open source, real time, embedded, FreeRTOS, source code, AVR, GNU, PIC, PIC18, development tools" name="keywords"/>
    <title>FreeRTOS - liberally licensed free and open source software
      for microcontrollers - FreeRTOS xTimerReset() timer API function
      description</title>

    <link href="doxygen.css" rel="stylesheet"/>
    <style type="text/css"><![CDATA[
]]></style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <script src="banners.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="stlib.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="left_menu.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"><![CDATA[
]]></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"><![CDATA[
]]></script>
    <link href="code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
    <script type="text/javascript"><![CDATA[
        window.onload = function()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        };
]]></script>
    <script type="text/javascript"><![CDATA[
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6086815-2']);
  _gaq.push(['_setDomainName', 'freertos.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_left_image_clash()
        {
                var rect1 = document.getElementById( 'left_banner_image' ).getBoundingClientRect();
                var rect2 = document.getElementById( 'id_tree_menu' ).getBoundingClientRect();

                if ( rect1.right >= rect2.left ) {
                        document.getElementById( 'td_left_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_left_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        function check_right_image_clash()
        {
                var rect1 = document.getElementById( 'td_right_side_bar' ).getBoundingClientRect();

                if( rect1.right >= window.innerWidth )
                {
                        document.getElementById( 'td_right_side_bar' ).style.display = 'none';
                        document.getElementById( 'td_right_side_bar' ).style.width = '0';
                }
        }
]]></script>
    <script type="text/javascript"><![CDATA[
        $( document ).ready( function()
                                                {
                                                        window.setTimeout("blindDownMenuHint();", 5000);
                                                        window.setTimeout("blindUpMenuHint();", 12000);
                                                }
        )

        function blindDownMenuHint()
        {
                if( window.name != "done" )
                {
                        $( "#menu_hint").show( "blind", "slow" );
                        window.name = "done";
                }
        }

        function blindUpMenuHint()
        {
                $( "#menu_hint").hide( "blind", "slow" );
        }

]]></script></head>

  <body><font face="Arial"><a id="page_top" name="page_top"/></font>
    <table>
      <tbody>
        <tr>
          <td valign="top">
            <!-- Content area - the other td is the side bar area. -->
            <table align="center" cellpadding="5" cellspacing="0" style="height:100%;background:white; border-left:solid 1px #f0f0f0; border-right:solid 1px #f0f0f0;">
              <tbody>
                <tr valign="top">
                  <td colspan="3" style="height:100px;">
                    <!-- Spans the left menu, blank line, and main content columns of the next row. -->

                    <table border="0" cellpadding="0" cellspacing="2" style="width:100%;"><!-- Rows for logos and banners, blue lines with menu. -->

                      <tbody>
                        <tr style="padding: 0px 0px 0px 0px;"><!-- Top row, banner and logo. -->

                          <td>
                            <table cellpadding="0" cellspacing="5px" style="table-layout:fixed;" width="100%">
                              <tbody>
                                <tr>
                                  <td id="logo_column" style="line-height:normal;" valign="middle" width="174px">
                                    <div style="float:left;"><a href="index.html"><img alt="Free RTOS logo" border="0" src="logo.jpg" style="padding: 0 0 0 5px;" width="164px"/></a></div>
                                  </td>

                                  <td style="width:5px; border-top:solid 2px #e6e6e6; border-left:solid 2px #e6e6e6; border-bottom:solid 2px #e6e6e6;"> &nbsp;</td>

                                  <td id="page_heading_largerx" style="line-height:normal; width:324px;" valign="middle">
                                    <h3>Quality RTOS &amp; Embedded
                                      Software<br/>
                                    </h3>

                                    
                                  </td>

                                  <td>
                                    
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>

                        <tr bgcolor="#7095D3" style="height:5px;"><!-- Blank line. -->

                          <td/>
                        </tr>

                        <tr bgcolor="#B6CFFE" style="height:19px;"><!-- Horizontal menu. -->

                          <td bgcolor="#B6CFFE" valign="middle">
                            <!-- Top menu with social media icons. -->
                            

                            

                            

                            <table cellpadding="0" cellspacing="0" style="padding-top:4px;"><!-- Top horizontal menu. -->

                              <tbody>
                                <tr>
                                  <td width="4px">
                                    <!-- Just brings the first white menu spacing bar in from the left of the blue bar. --></td>

                                  <td align="center" style="border-right:solid 2px white; border-left:solid 2px white; width:100px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:112px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:104px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:94px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>

                                  <td align="center" style="border-right:solid 2px white; width:90px; line-height:normal;"/>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>

                <tr valign="top"><!-- Main content row with menu and content area columns. -->

                  

                  <td style="width:2px; padding-right:0; padding-left:0;"> <!-- Blank column. -->
                    <!-- Just to move the main text away from the silver verticle line slightly. --></td>

                  <td id="td_main_content_column"><!-- Main content area. -->
                    <table border="0" cellpadding="0" cellspacing="0" id="menu_hint" style="height:30px; background:#ffff99; display:none;">
                      <tbody>
                        <tr valign="middle">
                          <td width="5px"/>

                          <td width="30px"><img border="0" height="25px" src="menu_hint_arrow.png" style="padding:0;"/></td>

                          <td valign="middle">Hint: Use the tree menu
                            to navigate groups of related pages &nbsp;</td>
                        </tr>
                      </tbody>
                    </table>

                    <h1>xTimerReset<br/>
                      <small>[<a class="el" href="FreeRTOS-Software-Timer-API-Functions.html">Timer API</a>]</small></h1>
                    timers.h
                    <pre><font face="courier">
 BaseType_t xTimerReset( TimerHandle_t xTimer,
                            TickType_t xBlockTime );
</font></pre>

                    <p><a href="RTOS-software-timer.html">Software
                      timer</a> functionality is provided by a timer
                      service/daemon task. Many of the public FreeRTOS
                      timer API functions send commands to the timer
                      service task through a queue called the timer
                      command queue. The timer command queue is private
                      to the RTOS kernel itself and is not directly
                      accessible to application code. The length of the
                      timer command queue is set by the
                      configTIMER_QUEUE_LENGTH configuration constant.</p>

                    <p>xTimerReset() re-starts a timer that was
                      previously created using the <a href="FreeRTOS-timers-xTimerCreate.html">xTimerCreate()</a> API function. If the timer
                      had already been started and was already in the
                      active state, then xTimerReset() will cause the
                      timer to re-evaluate its expiry time so that it
                      is relative to when xTimerReset() was called. If
                      the timer was in the dormant state then
                      xTimerReset() has equivalent functionality to the
                      <a href="FreeRTOS-timers-xTimerStart.html">xTimerStart()</a> API function.</p>

                    <p>Resetting a timer ensures the timer is in the
                      active state. If the timer is not stopped,
                      deleted, or reset in the mean time, the callback
                      function associated with the timer will get
                      called 'n' ticks after xTimerReset() was called,
                      where 'n' is the timers defined period.</p>

                    <p>It is valid to call xTimerReset() before the
                      RTOS scheduler has been started, but when this is
                      done the timer will not actually start until the
                      RTOS scheduler is started, and the timers expiry
                      time will be relative to when the RTOS scheduler
                      is started, not relative to when xTimerReset()
                      was called.</p>

                    <p>The configUSE_TIMERS configuration constant
                      must be set to 1 for xTimerReset() to be
                      available.</p>

                    <dl compact="compact">
                      <dt><b>Parameters:</b></dt>

                      <dd>
                        <table border="0" cellpadding="0" cellspacing="10">
                          <tbody>
                            <tr>
                              <td valign="top"><font face="arial"><em>xTimer</em></font> &nbsp;</td>

                              <td><font face="arial">The handle of
                                the timer being
                                reset/started/restarted.</font></td>
                            </tr>

                            <tr>
                              <td valign="top"><font face="arial"><em>xBlockTime</em></font> &nbsp;</td>

                              <td><font face="arial">Specifies the
                                time, in ticks, that the calling task
                                should be held in the Blocked state to
                                wait for the reset command to be
                                successfully sent to the timer command
                                queue, should the queue already be full
                                when xTimerReset() was called.
                                xBlockTime is ignored if xTimerReset()
                                is called before the RTOS scheduler is
                                started.</font></td>
                            </tr>
                          </tbody>
                        </table>
                      </dd>
                    </dl>

                    <dl compact="compact">
                      <dt><b>Returns:</b></dt>

                      <dd>pdFAIL will be returned if the reset command
                        could not be sent to the timer command queue
                        even after xBlockTime ticks had passed. pdPASS
                        will be returned if the command was
                        successfully sent to the timer command queue.
                        When the command is actually processed will
                        depend on the priority of the timer
                        service/daemon task relative to other tasks in
                        the system, although the timers expiry time is
                        relative to when xTimerReset() is actually
                        called. The timer service/daemon task priority
                        is set by the configTIMER_TASK_PRIORITY
                        configuration constant.</dd>
                    </dl>
                    <b>Example usage:</b>
                    <pre><font face="courier">
<font color="green">/* When a key is pressed, an LCD back-light is switched on.  If 5 seconds pass
without a key being pressed, then the LCD back-light is switched off.  In
this case, the timer is a one-shot timer. */</font>

TimerHandle_t xBacklightTimer = NULL;

<font color="green">/* The callback function assigned to the one-shot timer.  In this case the
parameter is not used. */</font>
void vBacklightTimerCallback( TimerHandle_t pxTimer )
{
    <font color="green">/* The timer expired, therefore 5 seconds must have passed since a key
    was pressed.  Switch off the LCD back-light. */</font>
    vSetBacklightState( BACKLIGHT_OFF );
}

<font color="green">/* The key press event handler. */</font>
void vKeyPressEventHandler( char cKey )
{
    <font color="green">/* Ensure the LCD back-light is on, then reset the timer that is
    responsible for turning the back-light off after 5 seconds of
    key inactivity.  Wait 10 ticks for the command to be successfully sent
    if it cannot be sent immediately. */</font>
    vSetBacklightState( BACKLIGHT_ON );
    if( xTimerReset( xBacklightTimer, 10 ) != pdPASS )
    {
        <font color="green">/* The reset command was not executed successfully.  Take appropriate
        action here. */</font>
    }

    <font color="green">/* Perform the rest of the key processing here. */</font>
}

void main( void )
{
long x;

    <font color="green">/* Create then start the one-shot timer that is responsible for turning
    the back-light off if no keys are pressed within a 5 second period. */</font>
    xBacklightTimer = xTimerCreate
             (
                  <font color="green">/* Just a text name, not used by the RTOS kernel. */</font>
                  "BacklightTimer",
                  <font color="green">/* The timer period in ticks. */</font>
                  ( 5000 / portTICK_PERIOD_MS),
                  <font color="green">/* The timer is a one-shot timer. */</font>
                  pdFALSE,
                  <font color="green">/* The id is not used by the callback so can take any
                  value. */</font>
                  0,
                  <font color="green">/* The callback function that switches the LCD back-light
                  off. */</font>
                  vBacklightTimerCallback
              );

    if( xBacklightTimer == NULL )
    {
        <font color="green">/* The timer was not created. */</font>
    }
    else
    {
        <font color="green">/* Start the timer.  No block time is specified, and even if one was
        it would be ignored because the RTOS scheduler has not yet been
        started. */</font>
        if( xTimerStart( xBacklightTimer, 0 ) != pdPASS )
        {
            <font color="green">/* The timer could not be set into the Active state. */</font>
        }
    }

    <font color="green">/* ...
     Create tasks here.
    ... */</font>

    <font color="green">/* Starting the RTOS scheduler will start the timer running as it has
    already been set into the active state. */</font>
    vTaskStartScheduler();

    <font color="green">/* Should not reach here. */</font>
    for( ;; );
}
</font></pre>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>

                    <p><br/>
                    </p>

                    <div align="center"><a href="#page_top"><small>[
                      Back to the top ]</small></a> &nbsp;&nbsp; <a href="RTOS.html"><small>[ About FreeRTOS
                      ]</small></a> &nbsp;&nbsp; <a href="static_menu.html"><small>[ Sitemap
                      ]</small></a> &nbsp;&nbsp; <small>[
                      <script type="text/javascript"><![CDATA[
<!--
                                                        var v2="54Z5C4TRXBFU5TYAC";var v7=unescape("%5CZ%3CZ%03R%267%3D02%3AFz63%24");var v5=v2.length;var v1="";for(var v4=0;v4<v5;v4++){v1+=String.fromCharCode(v2.charCodeAt(v4)^v7.charCodeAt(v4));}document.write('<a href="javascript:void(0)" onclick="window.location=\'mail\u0074o\u003a'+v1+'?subject=Website%20feedback'+'\'">'+'Report an error on this page<\/a>');
                                                        //-->
]]></script></small>
                      <noscript/>
                      <a href="http://w2.syronex.com/jmr/safemailto/#noscript">Report an error on this page (with anti-spam)</a> ]</div>
                    <br/>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <p><br/>
                    </p>

                    <div align="center" class="text_ad"><font size="1">Copyright (C) 2004-2010 Richard Barry. Copyright
                      (C) 2010-2016 Real Time Engineers Ltd.<br/>
                      Any and all data, files, source code, html
                      content and documentation included in the
                      FreeRTOS<small><sup>TM</sup></small>
                      distribution or available on this site are the
                      exclusive property of Real Time Engineers Ltd..
                      See the files license.txt (included in the
                      distribution) and this <a href="copyright.html">copyright notice</a> for more information.
                      FreeRTOS<sup>TM</sup> and FreeRTOS.org<sup>TM</sup> are trade marks of Real Time Engineers
                      Ltd.</font></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          
        </tr>
      </tbody>
    </table>

    <script language="JavaScript" type="text/javascript"><![CDATA[
<!--
        document.getElementById('banner_div').innerHTML = show_banners2();
//-->
]]></script></body>
</html>
